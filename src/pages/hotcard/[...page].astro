---
import { getCollection } from "astro:content";
import Layout from "../../layouts/BaseLayout.astro";
import { Image } from "astro:assets";
import yd from "../../image/product/dragon.jpg";
import lt from "../../image/product/flowcard.jpg";
import dx from "../../image/product/dragon.jpg";
import gd from "../../image/product/gd.jpg";
import shop from "../../content/hotcard/_image/cangjie.jpg";
import BlogList from "../../components/BlogList.astro";
import type { GetStaticPathsOptions } from "astro";

const type = [
  {
    url: lt,
    alt: "ä¸­å›½è”é€šæµé‡å¡",
  },
  {
    url: dx,
    alt: "ä¸­å›½ç”µä¿¡æµé‡å¡",
  },
  {
    url: gd,
    alt: "ä¸­å›½å¹¿ç”µæµé‡å¡",
  },
];

export async function getStaticPaths({ paginate }: GetStaticPathsOptions) {
  const hotcard = await getCollection("hotcard");
  return paginate(
    hotcard.sort(
      (a, b) =>
        new Date(b.data?.pubDate).getTime() -
        new Date(a.data?.pubDate).getTime()
    ),
    { pageSize: 12 }
  );
}

const hotcard = await getCollection("hotcard");
const { page } = Astro.props;
---

<Layout
  pageTitle="æµé‡å¡å®˜ç½‘"
  desc="æµé‡å¡å®˜æ–¹ç½‘ç«™ï¼Œæä¾›æµé‡å¡çš„ç”³è¯·ã€åŠç†ã€å……å€¼ã€å”®åç­‰åŠŸèƒ½"
>
  <div class="hidden md:flex gap-5 mx-5 m-10">
    <!-- {
      type.map((item) => (
        <Image
          src={item.url}
          alt={item.alt}
          width="300"
          height="150"
          class="rounded-xl"
        />
      ))
    } -->

    <a href="http://tc.liuketh.cn" target="_blank">
      <Image
        src="https://mp-dbef5695-ba44-4423-8102-319bf5c8c363.cdn.bspapp.com/gw/ka.png"
        alt="æµé‡å¡å›¾ç‰‡"
        width="1200"
        height="150"
        class="rounded-xl"
      />
    </a>
  </div>
  <p slot="shop" class="w-full">
      <span>ğŸ›ï¸å…è´¹åŠå¡</span>
      <a href="http://tc.liuketh.cn" target="_blank">
        <Image src={shop} width={300} height={30} alt="19å…ƒ100ï¼§æµé‡å¡" class="rounded-md mt-3" />
      </a>
  </p>
  <!-- //client:load  -->
  <div>
    <BlogList list={hotcard} path="/hotcard" page={page} />
  </div>
</Layout>
